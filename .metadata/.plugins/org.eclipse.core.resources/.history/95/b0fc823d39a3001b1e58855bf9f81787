package controller;

import java.util.Map;
import service.AdminSystem;
import util.AdminView;
import util.ScanUtil;
import dao.AdminDao;

public class ADController {

	public static void main(String[] args) {

		new ADController().start();
	}

	public static Map<String, Object> LoginAdmin; 

	private AdminDao adminDao = AdminDao.getInstance();
	private AdminSystem adminSystem = AdminSystem.getInstance();

	private void start() { // í™”ë©´ ì´ë™
		int adminView = AdminView.HOME;

		while (true) {
			switch (adminView) {
			case AdminView.HOME:
				adminView = home();
				break;
			case AdminView.LOGIN:
				adminView = login();
				break;
			case AdminView.NOTICE:
				adminView = adminSystem.notice();
				break;
			case AdminView.FAQ:
				adminView = adminSystem.faq();
				break;
			case AdminView.EVENT:
				adminView = adminSystem.event();
				break;
			case AdminView.GUIDE_LIST:
				adminView = adminSystem.guide_list();
				break;

			}
		}
	}

	private int home() {
		System.out.println("â”€â”€â”€â”€â”€â”€â”€â”€ëŒ€ë• ğŸ¡  ëœë“œâ”€â”€â”€â”€â”€â”€â”€");
		System.out.println("â”€â”€â”€â”€â”€â”€â”€ê´€ë¦¬ì  í”„ë¡œê·¸ë¨â”€â”€â”€â”€â”€â”€");
		System.out.println("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”");
		System.out.println("â”‚1.ë¡œê·¸ì¸    2.í”„ë¡œê·¸ë¨ ì¢…  ë£Œ  â”‚");
		System.out.println("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜");
		System.out.print("ì„ íƒ>>");

		int input = ScanUtil.nextInt();

		switch (input) {
		case 1:
			return AdminView.LOGIN;
		case 2:
			System.out.println("í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
			System.exit(0);
		}
		return AdminView.HOME; 
	}

	private int login() {

		System.out.println("â”œâ”€â”€â”€â”€â”€â”€ê´€ë¦¬ì ë¡œê·¸ì¸â”€â”€â”€â”€â”€â”€â”¤");
		System.out.println("ì•„ì´ë””>:");
		String adminId = ScanUtil.nextLine();
		System.out.println("ë¹„ë°€ë²ˆí˜¸>:");
		String password = ScanUtil.nextLine(); 

		Map<String, Object> admin = adminDao.selectAdmin(adminId, password);

		if (admin == null) {
			System.out.println("ì•„ì´ë”” í˜¹ì€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì˜ëª» ì…ë ¥í•˜ì…¨ìŠµë‹ˆë‹¤.");
			return AdminView.LOGIN;

		} else {
			System.out.println("-ë¡œê·¸ì¸ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.-");
		}
		ADController.LoginAdmin = admin;
	
		return AdminView.GUIDE_LIST; 

	}

}